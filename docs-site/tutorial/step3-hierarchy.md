# Step 3: 階層構造を作る

## 目標

- サブタスクを追加する
- タスクの階層を変更する
- 折りたたみ/展開を使う

## シナリオ

「企画・設計フェーズ」を具体的な作業に分解します。

## サブタスクを追加する

1. 「企画・設計フェーズ」にマウスを合わせる
2. 右側に表示される「↳」アイコンをクリック
3. サブタスク名を入力

以下のサブタスクを追加してみましょう：

- 要件定義
- ワイヤーフレーム作成
- サイトマップ作成

![階層構造](/images/03_list_view_hierarchy.png)

## 階層を変更する（ドラッグ&ドロップ）

タスクの階層はドラッグ&ドロップで変更できます：

### タスクを子タスクにする

1. 移動したいタスクをドラッグ
2. 親にしたいタスクの上にドロップ

### ルートレベルに戻す

1. 子タスクをドラッグ
2. タスク一覧の下部（ルートエリア）にドロップ

::: tip インデント操作
キーボードでも階層を変更できます：
- **Tab**: 1段階下げる（子タスクにする）
- **Shift + Tab**: 1段階上げる（親レベルに戻す）
:::

## 折りたたみと展開

タスクが増えてくると、画面が見づらくなります。親タスクを折りたたむことで、必要な情報だけを表示できます。

- **▼** をクリック：サブタスクを折りたたむ
- **▶** をクリック：サブタスクを展開する

## 親タスクの特徴

::: info 親タスクの自動計算
子タスクを持つ親タスクは、以下が自動計算されます：
- **日程**: 子タスクの最早開始日〜最遅終了日
- **進捗**: 子タスクの進捗の平均
:::

## 演習

「デザイン制作」に以下のサブタスクを追加してみましょう：

- デザインコンセプト策定
- トップページデザイン
- 下層ページデザイン
- レスポンシブ対応

## 次のステップ

WBS（作業分解構成）ができました。次は各タスクに日程を設定して、スケジュールを組み立てましょう。

<div class="next-step">
  <a href="/tutorial/step4-schedule">Step 4: 日程を設定する →</a>
</div>

<style>
.next-step {
  margin-top: 2rem;
  padding: 1rem;
  background: var(--vp-c-brand-soft);
  border-radius: 8px;
  text-align: center;
}

.next-step a {
  font-weight: bold;
  font-size: 1.1rem;
}
</style>
