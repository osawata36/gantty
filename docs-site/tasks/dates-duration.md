---
title: 日程と所要日数
description: タスクの開始日・終了日・所要日数の設定方法と、自動計算の仕組みについて説明します。
---

# 日程と所要日数

タスクの日程（開始日・終了日）と所要日数の設定方法について説明します。これらの設定により、ガントチャートビューでタスクバーとして表示されます。

## 日程の基本

各タスクには以下の日程情報を設定できます。

| 項目 | 説明 |
|------|------|
| 開始日 | タスクの作業を開始する予定日 |
| 終了日 | タスクの作業を完了する予定日 |
| 所要日数 | タスクにかかる日数 |

これら3つの項目は相互に関連しており、2つの値を設定すると残り1つが自動計算されます。

## 日程の設定方法

### 詳細パネルで設定

1. 日程を設定したいタスクをクリックして選択します
2. 画面右側に詳細パネルが表示されます
3. 以下の方法で日程を入力します

**開始日・終了日：**
- 日付フィールドをクリックするとカレンダーが表示されます
- カレンダーから日付を選択するか、直接入力します
- 日付形式：`YYYY/MM/DD`（例：`2024/04/01`）

**所要日数：**
- 数値フィールドに日数を入力します
- 単位は「日」です

### ガントチャートビューで設定

ガントチャートビューでは、タスクバーを直接操作して日程を設定できます。

[ガントチャートビューでの日程操作について詳しく見る](/views/gantt-view)

## 自動計算の仕組み

開始日・終了日・所要日数は連動して自動計算されます。

### 計算パターン

3つの項目のうち、2つを設定すると残り1つが自動計算されます。

| 設定した項目 | 自動計算される項目 |
|------------|------------------|
| 開始日 + 終了日 | 所要日数 |
| 開始日 + 所要日数 | 終了日 |
| 終了日 + 所要日数 | 開始日 |

### 計算例

**例1：開始日と終了日を設定**
```
開始日：2024/04/01
終了日：2024/04/05
→ 所要日数：5日（自動計算）
```

**例2：開始日と所要日数を設定**
```
開始日：2024/04/01
所要日数：5日
→ 終了日：2024/04/05（自動計算）
```

**例3：終了日と所要日数を設定**
```
終了日：2024/04/05
所要日数：5日
→ 開始日：2024/04/01（自動計算）
```

### 値を変更した場合の再計算

すでに3つの値が設定されている状態で、いずれかの値を変更すると、自動計算が行われます。

| 変更した項目 | 再計算される項目 |
|------------|----------------|
| 開始日 | 終了日（所要日数は維持） |
| 終了日 | 開始日（所要日数は維持） |
| 所要日数 | 終了日（開始日は維持） |

::: tip ポイント
日程変更時の再計算ルールは「所要日数を優先的に維持」または「開始日を優先的に維持」の設定によって変わります。デフォルトでは開始日を維持して終了日が再計算されます。
:::

## 親タスクの日程自動計算

子タスク（サブタスク）を持つ親タスクの日程は、子タスクの日程から自動的に計算されます。

### 計算ルール

| 親タスクの項目 | 計算方法 |
|--------------|---------|
| 開始日 | 全ての子タスクの開始日の中で**最も早い日付** |
| 終了日 | 全ての子タスクの終了日の中で**最も遅い日付** |
| 所要日数 | 開始日から終了日までの日数 |

### 計算例

```
親タスク: Webサイト制作
├── デザイン作成    開始: 04/01  終了: 04/10
├── コーディング    開始: 04/08  終了: 04/20
└── テスト         開始: 04/18  終了: 04/25

→ 親タスクの日程（自動計算）
   開始日: 04/01（最も早い開始日）
   終了日: 04/25（最も遅い終了日）
   所要日数: 25日
```

::: warning 注意
親タスクの日程は自動計算されるため、直接編集することはできません。日程を変更するには、子タスクの日程を変更してください。
:::

### 子タスクの一部に日程がない場合

子タスクの中に日程が未設定のものがある場合は、設定されている子タスクのみで計算されます。

```
親タスク: 企画
├── アイデア出し    開始: 04/01  終了: 04/03
├── 検討会議       （未設定）
└── 企画書作成     開始: 04/05  終了: 04/10

→ 親タスクの日程
   開始日: 04/01
   終了日: 04/10
   （「検討会議」は計算に含まれない）
```

## 日程のクリア

設定した日程をクリア（未設定に戻す）することもできます。

### 個別にクリア

1. タスクを選択して詳細パネルを開きます
2. クリアしたい日付フィールドの「**クリア**」ボタン（またはゴミ箱アイコン）をクリックします

### 日程に関する注意点

- 開始日のみ設定されている場合、ガントチャートには表示されません
- 終了日のみ設定されている場合も同様です
- 開始日と終了日（または所要日数）の両方が設定されている場合にのみ、ガントチャートにタスクバーが表示されます

## 営業日計算

::: info 補足
現在のバージョンでは、所要日数の計算は暦日ベースで行われます。土日や祝日を除いた営業日計算は今後のアップデートで対応予定です。
:::

## ガントチャートでの表示

日程が設定されたタスクは、ガントチャートビューでタスクバーとして表示されます。

### 表示条件

| 条件 | 表示 |
|------|------|
| 開始日・終了日の両方が設定されている | タスクバーが表示される |
| 開始日のみ設定 | 表示されない |
| 終了日のみ設定 | 表示されない |
| 日程が未設定 | 表示されない |

### ガントチャートでの日程変更

ガントチャートビューでは、タスクバーを直接操作して日程を変更できます。

**タスクバーの移動：**
- タスクバーをドラッグして開始日・終了日を同時に移動

**期間の変更：**
- タスクバーの右端をドラッグして終了日を変更（所要日数が変わる）
- タスクバーの左端をドラッグして開始日を変更（所要日数が変わる）

[ガントチャートビューについて詳しく見る](/views/gantt-view)

## よくある操作

### 日程を後ろにずらす

開始日を変更すると、所要日数を維持したまま終了日も自動的にずれます。

**手順：**
1. タスクを選択して詳細パネルを開きます
2. 開始日を新しい日付に変更します
3. 終了日が自動的に再計算されます

**例：**
```
変更前：開始 04/01、終了 04/05、所要日数 5日
開始日を 04/03 に変更
→ 変更後：開始 04/03、終了 04/07、所要日数 5日（維持）
```

### 期間を延長する

終了日を変更するか、所要日数を増やすと、期間が延長されます。

**手順1：終了日を変更**
1. タスクを選択して詳細パネルを開きます
2. 終了日をより遅い日付に変更します
3. 所要日数が自動的に再計算されます

**手順2：所要日数を変更**
1. タスクを選択して詳細パネルを開きます
2. 所要日数を増やします
3. 終了日が自動的に再計算されます

### 複数タスクの日程を一括変更

::: info 補足
複数タスクの日程一括変更機能は今後のアップデートで対応予定です。現在は1つずつ変更してください。
:::

## ベストプラクティス

日程管理を効果的に行うためのヒントです。

### 開始日から計画する

- 通常は開始日と所要日数を設定し、終了日を自動計算させるのがお勧めです
- プロジェクトの開始から順番にタスクを並べて日程を設定すると、全体のスケジュールが把握しやすくなります

### バッファを考慮する

- 実際の作業時間 + 余裕時間（バッファ）で所要日数を設定しましょう
- リスクの高いタスクには多めのバッファを設定します

### 依存関係を意識する

- あるタスクが完了しないと次のタスクを開始できない場合、日程が重ならないように設定します
- 親タスクの日程を確認しながら、子タスクの日程を調整します

## 次のステップ

- [ガントチャートビュー](/views/gantt-view) - 日程を視覚的に管理
- [進捗管理](/tasks/progress) - 作業の進み具合を記録
- [階層構造（親子関係）](/tasks/hierarchy) - 親タスクの日程自動計算
